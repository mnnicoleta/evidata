<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/base}"
      th:with="activeTab='expertises'">

<head>
    <title th:text="#{Expertise.edit.label}">Expertise Edit</title>
</head>

<div layout:fragment="page_content" id="page_content">

    <h3 th:text="#{Expertise.edit.label}">Expertise Edit</h3>

    <form class="form-group" action="/expertiseEdit" th:action="@{/expertiseEdit}" method="post">
        <input th:type="hidden" name="id" th:field="${expertise.id}"/>
        <div class="row">
            <div class="col-md-3 form-group">
                <label for="expertiseNumber" th:text="#{Expertise.expertiseNumber.label}">Expertise number</label>
                <input type="text" class="form-control" id="expertiseNumber" th:field="${expertise.expertiseNumber}"/>
                <label th:if="${#fields.hasErrors('expertise.expertiseNumber')}" th:errors="*{expertise.expertiseNumber}"
                       class="validation-message" th:text="#{expertiseNumber.validateSize}"></label>
            </div>

            <div class="col-md-3 form-group">
                <label for="deadline" th:text="#{Expertise.deadline.label}">Deadline</label>
                <div class="input-group date" data-provide="datepicker">
                    <input type="text" class="form-control" id="deadline" th:field="${expertise.deadline}"/>
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 form-group">
                <label for="fileNumber" th:text="#{Expertise.fileNumber.label}">File number</label>
                <input type="text" class="form-control" id="fileNumber" th:field="${expertise.fileNumber}"/>
                <label th:if="${#fields.hasErrors('expertise.fileNumber')}" th:errors="*{expertise.fileNumber}"
                       class="validation-message" th:text="#{expertiseFileNumber.validateSize}"></label>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3 form-group">
                <label for="department" th:text="#{department.label}">Department</label>
                <select id="department" class="form-control" th:field="${expertise.department}">
                    <option th:each="d : ${departments}" th:value="${d.id}" th:text="${d.name}"></option>
                </select>
            </div>

            <div class="col-md-3 form-group">
                <label for="expertiseType" th:text="#{Expertise.expertiseTypes.label}">Expertise type</label>
                <select id="expertiseType" class="form-control" th:field="${expertise.expertiseType}">
                    <option th:each="d : ${expertiseTypes}" th:value="${d.id}" th:text="${d.type}"></option>
                </select>
            </div>

            <div class="col-md-3 form-group">
                <label for="requestedBy" th:text="#{Expertise.requestedBy.label}">Requested By</label>
                <input type="text" class="form-control" id="requestedBy" th:field="${expertise.requestedBy}"/>
                <label th:if="${#fields.hasErrors('expertise.requestedBy')}" th:errors="*{expertise.requestedBy}"
                       class="validation-message" th:text="#{expertiseRequestedBy.validateSize}"></label>
            </div>

        </div>

        <div class="row">
            <div class="col-md-3 form-group">
                <label for="user" th:text="#{Expertise.appUserList.label}">Responsible</label>
                <select id="user" class="form-control" th:field="${expertise.appUserList}" multiple="multiple">
                    <option th:each="d : ${appUsers}" th:value="${d.id}"
                            th:text="${d.firstName+' '+d.lastName}"></option>
                </select>
            </div>

            <div class="col-md-3 form-group">
                <label for="finishDate" th:text="#{Expertise.finishDate.label}">Finish Date</label>
                <div class="input-group date" data-provide="datepicker">
                    <input type="text" class="form-control" id="finishDate" th:field="${expertise.finishDate}"/>
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </div>
                </div>
            </div>

            <div class="col-md-3 form-group">
                <label for="status">Status</label>
                <select id="status" class="form-control" th:field="${expertise.status}">
                    <option th:each="st : ${T( evidata.core.model.Status).values()}" th:value="${st}"
                            th:text="${st.displayName}">status
                    </option>
                </select>
            </div>

        </div>


        <button type="submit" class="btn btn-primary" th:text="#{save.label}">Save</button>
        <a href="#" th:href="@{/expertiseList}" class="btn btn-danger" role="button"
           th:text="#{cancel.label}">Cancel</a>

    </form>
</div>

</html>